<h3>Send Email Update</h3>

<div class="container">
  <div class="row">
    <div class="offset-0"></div>
    <div class="col-md-7">
      <form name="form" #f="ngForm" (ngSubmit)="f.form.valid && sendUpdate()" novalidate class="update-form">
               
        <!-- To Email Address -->
        <div class="form-group">
          <label for="email">To:</label>
          <input type="text"
                 id="email"
                 class="form-control"
                 name="email"
                 placeholder="Enter email address..."
                 [(ngModel)]="model.recipientEmailAddr"
                 #email="ngModel"
                 [ngClass]="{ 'is-invalid': f.submitted && email.invalid }"
                 required email/> <!-- #email is an alias for ngModel to grab the value-->
          <!-- input validation group -->
          <div *ngIf="f.submitted && email.invalid" class="invalid-input">
            <!-- individual validation errors -->
            <div *ngIf="email.errors?.required">Field is required</div>
            <div *ngIf="email.errors?.email">Field is not a valid email</div>
          </div>
        </div>

      <!-- Update Subject -->
                <div class="form-group">
                    <label for="name">Subject:</label>
                    <input type="text"
                           id="name"
                           class="form-control"
                           name="name"
                           placeholder="Enter message subject..."
                           [(ngModel)]="model.subject"
                           #name="ngModel"
                           />
                  </div>
        
        <!-- Update message body -->
        <div class="form-group">
          <textarea
          id="feedback"
          class="form-control"
          name="feedback"
          placeholder="Enter update message..."
          rows="10"
          [(ngModel)]="model.messageBody"
            #feedback="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && feedback.invalid }"
            required minlength="3">
			    </textarea>
          <!-- input validation group -->
          <div *ngIf="f.submitted && feedback.invalid" class="invalid-input">
            <!-- individual validation errors -->
            <div *ngIf="feedback.errors?.required">Field is required</div>
            <div *ngIf="feedback.errors?.minlength">Field is too small (try 10 characters)</div>
          </div>
        </div>

        <!-- Update From Name -->
        <div class="form-group">
          <label for="name">From:</label>
          <input type="text"
                 id="name"
                 class="form-control"
                 name="name"
                 placeholder="Enter your name..."
                 [(ngModel)]="model.fromName"
                 #name="ngModel"
                 [ngClass]="{ 'is-invalid': f.submitted && name.invalid }"
                 required/>
          <!-- input validation group -->
          <div *ngIf="f.submitted && name.invalid" class="invalid-input">
            <!-- individual validation errors -->
            <div *ngIf="name.errors?.required">Field is required</div>
          </div>
        </div>
        
        <button type="submit" class="btn btn-success pull-right">
          <i class="fa fa-envelope-o"></i> 
          <span> Send Update</span>
        </button>
      </form>
    </div>
    <div class="offset-2"></div>
  </div>
</div>
